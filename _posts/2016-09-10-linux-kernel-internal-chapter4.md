---
layout: post
title: "리눅스커널 내부구조 4장"
description: "리눅스커널 내부구조 4장"
comments: true
keywords: "linux kernel"
author: 홍석준
---

외부 단편화와 내부 단편화 정의
 - 내부 단편화
  ~ 우덜식 정의 : 최소 프레임(한 단위)보다 더 작은 메모리를 요청했을 때, 요청할 때마다 프레임 단위로 할당받아서 공간의 낭비가 발생함
  ~ 위키 정의 : 기억 장치가 의도된 바 없이 할당될 때 일어난다. 공간이 낭비된다. "내부"라는 용어는 필요 없는 기억 자료가 할당된 영역 안에 있지만 쓰이지 않는 것을 말한다. 운영체제의 메모리 관리기법 중 페이징을 이용할 때 발생할 수 있다. 일정 크기의 페이지에 프로세스 할당시, 프로세스의 크기가 페이지보다 작을 경우 내부 단편화가 발생한다.
 - 외부 단편화
  ~ 우덜식 정의 : 할당하려는 크기가 여유공간 총합보다는 작아서 할당할 수 있어야하는데, 연속된 여유공간 조각들이 할당하려는 크기보다 작아서 할당할 수 없는 상황.
  ~ 위키 정의 : 여유 공간이 여러 조각으로 나뉘는 현상을 말한다. 프로그램이 다양한 크기의 기억 장소의 남은 영역을 할당하고 할당을 해제할 때 일어나며, 할당 알고리즘이 약화된다. 비록 남은 기억 공간을 사용할 수 있지만, 조각이 너무 작게 나 있어서 응용 프로그램의 성능을 뒷받쳐 주지 못하기 때문에 효과적으로 사용하지 못하게 된다. "외부"라는 용어는 사용할 수 없는 기억 장소가 할당된 영역 밖에 있다는 것을 뜻한다. 
 - 참고)자료 단편화
  ~ 우덜식 정의 : 조경민이가 설명한, 예를 들면, 디스크에 한 파일이 여러 조각으로 막 퍼져있는 상황.
  ~ 위키 정의 : 기억장치 내의 자료가 여러 조각으로 나뉠 때 일어난다. 커다란 자료를 외부 단편화에 시달리는 기억 장치에 집어넣으려고 할 때 발생하는 것이 보통이다.

버디할당자
 - 할당 : 요청된 크기를 만족하는 최소의 order 에서 페이지 프레임을 할당해준다. 만일 그 order 에 가용한 페이지 프레임이 존재하지 않으면 상위 order 에서 페이지 프레임을 할당받아서 두 부분으로 나누어서, 한 부분은 할당해주고 나머지 부분은 하위 order 에서 가용 프레임으로 관리한다. 
 - 해제 : 할당의 반대 작업

Lazy Buddy 매커니즘이 이해가 안감.

